<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.reborn.web.dao.name.NameDao">

	<select id="getList" resultType="com.reborn.web.entity.name.Name">
		SELECT * FROM Name
		<where>
			<if test="param3 != null and param3.equals('')">
				BINARY ${param3} LIKE '%${param4}%'
			</if>
		</where>
		ORDER BY name ASC
		LIMIT #{param2} OFFSET #{param1}
	</select>
	
	<select id="getViewList" resultType="com.reborn.web.entity.name.NameView">
		SELECT * FROM NameView
		<where>
			<if test="param3 != null and param3.equals('')">
				BINARY ${param3} LIKE '%${param4}%'
			</if>
		</where>
		ORDER BY name ASC
		LIMIT #{param2} OFFSET #{param1}
	</select>
	
	<select id="getViewListByVoteId" resultType="com.reborn.web.entity.name.NameView">
		SELECT * FROM NameView
		where voteId = #{param1}
		ORDER BY choiceCnt DESC
		LIMIT #{param2}
	</select>

</mapper>